<!DOCTYPE html>
<html lang="en">

<head>
    <title>PerfectP2P Chat App</title>
    <link rel="stylesheet" href="index.css">
</head>

<body class='page-wrapper'>
    <div id="overlay" class="overlay"></div>
    <div id="registration-window" class="registration-popup">
        <!--<div class="registration-el" style="color:rgb(0, 0, 0); margin-top: 5%; font-size: medium;">You don't have an
                account yet.</div> !-->
        <div class="center">
            <h1 style="color:rgb(0, 0, 0); margin-top:
                    10%;">Sign Up</h1>
        </div>

        <!--<label class="registration-el" for="username">Username</label>!-->
        <p><input class="registration-el registration-input" type="text" name="username" id="username-input"
                placeholder="Username"></p>
        <!--<label class="registration-el" for="pwd">Password(for key encryption)</label>!-->
        <p> <input class="registration-el registration-input" type="password" name="pwd" id="password-input"
                placeholder="Password"></p>
        <button class="registration-el download-button" id="proceed-signup">Proceed</button>
        <div style="display:none">
            <div class="registration-el" style="color:rgb(255, 72, 72)">You
                should download encrypted keys,otherwise you will no be able
                to sign in next time!</div>
            <button class="registration-el registration-input
                    registration-button">Download keys</button>
        </div>
    </div>
    <div id="main-page">
        <div class='row' style="height:100%;min-height: 100%;">
            <div class="column" style="flex-grow: 1;">
                <div class="dropdown">
                    <button class="dropdown-button" style="border-radius: 0%;"
                        id="contacts-dropdown-button">Contacts</button>
                    <div class="dropdown-content" id="contacts-dropdown-list">
                        <div class="dropdown-content-row" style="align-items: center;"
                            id="add-contact-contact-list-element">
                            <div class="dropdown-content-row-major-col">
                                <div
                                    style="height:100%;display:flex; flex-direction: row; justify-content: center; align-items: center">
                                    <label for="nickname" style="float:left;clear: both;">Nickname:</label>
                                    <input name="nickname" id="nickname-input"
                                        style="width:100%;height:30px;margin-left: 4%;">
                                </div>
                            </div>
                            <div class="dropdown-content-row-minor-col">
                                <!--<span style="align-items: center;"> -->

                                <button id="add-contact-button" class="dropdown-button"
                                    style="flex:none;height:60px;width: 75%;text-align: center;font-size: medium;">Add
                                    contact</button>

                                <!--</span>-->

                            </div>
                        </div>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropdown-button" id="connection-requests-dropdown-button">Connection
                        requests</button>
                    <div class="dropdown-content" id="connection-requests-dropdown-list"></div>
                </div>
                <div class="dropdown">
                    <button class="dropdown-button" id="chats-dropdown-button">Chats</button>
                    <div class="dropdown-content" id="chats-dropdown-list"></div>
                </div>

            </div>






            <div class='column' style="flex-grow: 3;">
                <h1
                    style="color:#ffffff; margin-left: 10%; font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">
                    PerfectP2P</h1>

                <div id="chat-container" class="chat-container">
                    <h2 id="chat-title" style="margin-left: 5%;"><span style="color:rgb(47, 47, 47);" id="chat-label">Chat with...</span></h2>
                    <div id="chat-history" class="chat-history-textarea" disabled></div>
                    <div
                        style="display:flex; flex-direction: row; justify-content:center; align-items: center; position: absolute;bottom:0px; width:100%;">
                        <input class="chat-input" name="chat-input" id="chat-input" placeholder="Write message...">
                        <button class="dropdown-button" class="dropdown-button"
                            style="flex:none;height:30px;width: 20%;text-align: center;font-size: medium;box-sizing: border-box;padding: 3%;padding-left:6%;display: flex;align-items: center;;"
                            id="chat-send-message">Send</button>
                    </div>
                </div>



            </div>
            <div class='column' style="flex-grow: 1;">
                <button id="signinButton" class="signinButton">Sign In</button>
                <button id="connectButton" class="connectButton">Connect</button>
                <button id="downloadKeysButton" class="download-keys-button">Download
                    Keys</button>
            </div>
        </div>
    </div>

    <script id="contact-list-element-ejs-template" type="text/template">
        <div class="dropdown-content-row" <%if (emptyPlaceholder){%>id="empty-placeholder-contact-list-element" <%} else {%> id = "<%=username%>-contact-list-element" <%}%> >
            <div class="dropdown-content-row-major-col" style="width:60%">
                <%=username%>
            </div>
            <div class="dropdown-content-row-minor-col" style="width:40%">
                <%if (!emptyPlaceholder){%><button id="<%=username%>-request-button" class="dropdown-button" style="flex:none;height:60px;width: 75%;text-align: center;font-size: medium;">Request chat</button><%}%>
            </div>
        </div>
    </script>
    <script id="connection-request-list-element-ejs-template" type="text/template">
        <div class="dropdown-content-row" id="<%=address%>-connection-list-div">
            <div class="dropdown-content-row-major-col" style="width:60%">
                <%=username%>
            </div>
            <div class="dropdown-content-row-minor-col" style="width:40%">
                <button id="<%=username%>-respond-button" class="dropdown-button" style="flex:none;height:60px;width: 75%;text-align: center;font-size: medium;">Accept</button>
            </div>
        </div>
    </script>

    <script src="./sweetalert2.all.min.js"></script>
    <script src="./crypto-js.min.js" type="text/javascript"> </script>
    <script src="./index.js" type="module"> </script>
</body>

</html>